javascript:(()=>{try{if(window.__tid_active){document.querySelectorAll('.__tid_badge').forEach(n=>n.remove());document.querySelectorAll('.__tid_mark').forEach(el=>{try{el.style.outline=el.dataset.__prevOutline||''}catch{}el.classList.remove('__tid_mark')});window.__tid_active=false;alert('Cleanup ✔');return;}if(document.querySelector('input[type="password"]')){alert('Güvenlik: Parola alanı bulundu, çalıştırılmadı.');return;}window.__tid_active=true;const REQ='data-testid',GROUP='button,a,[role=button],[role=link],[role=menuitem],[role=tab]',FORM='input,select,textarea',MEDIA='img,svg[role=\"img\"]',CONT='.card,.tile,.panel,.box,.item,.row,.grid-item,.list-item,.list-row,.menu-item,.nav-item,.table-row,.data-row,.table__row,li,tr,[role=\"row\"],.form-field,.field,.input-group,fieldset,[role=\"group\"]',SEL=[GROUP,FORM,MEDIA,CONT].join(','),B=30,MAX=1000;const isVis=e=>{try{const s=getComputedStyle(e),r=e.getBoundingClientRect();return r.width>0&&r.height>0&&s.visibility!=='hidden'&&s.display!=='none'&&e.getAttribute('aria-hidden')!=='true'}catch{return false}},esc=s=>{try{return CSS&&CSS.escape?CSS.escape(s):String(s).replace(/[^a-zA-Z0-9_-]/g,'\\$&')}catch{return String(s)}},hasTestId=n=>{if(!n)return false;try{if(n.getAttribute&&n.getAttribute(REQ))return true;if(n.querySelector&&n.querySelector('['+REQ+']'))return true;if(n.matches&&n.matches(FORM)){const id=n.getAttribute('id');if(id){const lab=document.querySelector('label[for=\"'+esc(id)+'\"]');if(lab&&(lab.getAttribute(REQ)||lab.querySelector('['+REQ+']')))return true;}const wrap=n.closest('label');if(wrap&&(wrap.getAttribute(REQ)||wrap.querySelector('['+REQ+']')))return true;}return false}catch{return false}},nearestContainer=e=>{let p=e;for(let i=0;i<6&&p;i++){try{if(p.matches&&p.matches(CONT))return p;p=p.parentElement;}catch{return e}}return null},getGroupRoot=el=>{try{if(el.matches&&el.matches(CONT))return el;const cont=nearestContainer(el);if(cont)return cont;const g=el.closest(GROUP);if(g)return g;const f=el.closest(FORM);if(f)return f;return el}catch{return el}},mark=(root,label)=>{if(!root||!isVis(root))return;root.dataset.__prevOutline=root.style.outline||'';root.style.outline='2px solid #d00';root.classList.add('__tid_mark');const b=document.createElement('span');b.className='__tid_badge';b.textContent=label; b.style.cssText='display:inline-block;margin:2px 0 0;padding:2px 6px;background:#ffeded;color:#900;border:1px solid #900;border-radius:3px;font:12px/1 -apple-system,system-ui,Segoe UI,Roboto,Arial;pointer-events:none';root.insertAdjacentElement('afterend',b)};const cand=[...document.querySelectorAll(SEL)].filter(isVis);if(!cand.length){window.__tid_active=false;alert('Kontrol edilecek öğe yok');return;}const roots=new Set();cand.forEach(el=>{const r=getGroupRoot(el);if(r)roots.add(r)});let i=0,processed=0,miss=0;const list=[...roots];const step=()=>{const end=Math.min(i+B,list.length);for(;i<end;i++){if(++processed>MAX){alert('Limit '+MAX+' kök – performans için durduruldu.');i=list.length;break;}const r=list[i];if(!r||!isVis(r))continue;if(hasTestId(r))continue;mark(r,'no '+REQ+' (group)');miss++;}if(i<list.length){setTimeout(step,60);}else{alert(miss? (miss+' grup/öge '+REQ+' olmadan'):('Tüm gruplarda '+REQ+' var ✅'));}};step();}catch(e){alert('Hata: '+(e&&e.message?e.message:e))}})();
