javascript:(()=>{try{const REQ='data-testid',T=8000,vis=e=>{try{const s=getComputedStyle(e),r=e.getBoundingClientRect();return r.width>0&&r.height>0&&s.visibility!=='hidden'&&s.display!=='none'&&e.getAttribute('aria-hidden')!=='true'}catch(_){return false}},CSEL=['button','a','[role=button]','[role=link]','[role=menuitem]','[role=tab]','input[type=button]','input[type=submit]','input[type=checkbox]','input[type=radio]','select','textarea'],CONT=['li','.list-item','.menu-item','.nav-item','.tab','.chip','.tag','.card','.tile','.form-field','.field','.input-group','fieldset','[role=group]'],MEDIA=['img','svg[role="img"]'];const clean=()=>{document.querySelectorAll('.__tid_b').forEach(n=>n.remove());document.querySelectorAll('.__tid_m').forEach(el=>{try{el.style.outline=el.dataset.__tid_o||''}catch(_){ }el.classList.remove('__tid_m')});window.__tid_on=false;if(window.__tid_obs){try{window.__tid_obs.disconnect()}catch(_){ }}alert('Cleanup ✔')};if(window.__tid_on)return clean();window.__tid_on=true;const roots=new Set(),asSel=a=>a.join(','),GSEL=asSel(CSEL),MSEL=asSel(MEDIA),isRootLike=el=>el&&el.matches&&el.matches(GSEL),closestContainer=el=>{let p=el;for(let i=0;i<6&&p;i++){if(p.matches&&CONT.some(s=>{try{return p.matches(s)}catch(_){return false}}))return p;p=p.parentElement}return null},addRoot=el=>{if(!el)return;let r=isRootLike(el)?el:(el.closest(GSEL)||el);const cont=closestContainer(r);if(cont)r=cont;roots.add(r)},scanNode=ctx=>{try{(ctx.querySelectorAll?ctx:document).querySelectorAll(GSEL).forEach(addRoot);(ctx.querySelectorAll?ctx:document).querySelectorAll(MSEL).forEach(el=>addRoot(el.closest(GSEL)||el))}catch(_){}};scanNode(document);const markMissing=()=>{let miss=0;roots.forEach(root=>{try{if(!root||!vis(root))return;const hasSelf=root.getAttribute&&root.getAttribute(REQ);const hasChild=root.querySelector&&root.querySelector('['+REQ+']');if(hasSelf||hasChild)return;miss++;root.dataset.__tid_o=root.style.outline||'';root.style.outline='2px solid red';root.classList.add('__tid_m');const b=document.createElement('span');b.className='__tid_b';b.textContent='no '+REQ+' (group)';b.style.cssText='display:inline-block;margin:2px 0 0;padding:2px 6px;font:12px/1 -apple-system,system-ui,Segoe UI,Roboto,Arial;background:#ffeded;color:#c00;border:1px solid #c00;border-radius:3px;pointer-events:none';root.insertAdjacentElement('afterend',b)}catch(_){ }});return miss};const obs=new MutationObserver(m=>{m.forEach(x=>{(x.addedNodes||[]).forEach(n=>{if(n.nodeType!==1)return;scanNode(n)})});document.querySelectorAll('.__tid_b').forEach(n=>n.remove());document.querySelectorAll('.__tid_m').forEach(el=>{try{el.style.outline=el.dataset.__tid_o||''}catch(_){ }el.classList.remove('__tid_m')});markMissing()});obs.observe(document,{subtree:true,childList:true});window.__tid_obs=obs;const initial=markMissing();setTimeout(()=>{try{obs.disconnect()}catch(_){ }const final=document.querySelectorAll('.__tid_m').length;alert((final||initial)?(final+' Gruppen ohne '+REQ):('Alle Gruppen haben '+REQ+' ✅'))},T)}catch(e){alert('Fehler: '+e.message)}})();
